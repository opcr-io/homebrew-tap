# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Policy < Formula
  desc "policy CLI for building and managing authorization policies"
  homepage "https://aserto.com/"
  version "0.2.7"
  license "Apache License Version 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/opcr-io/policy/releases/download/v0.2.7/policy0.2.7_darwin_arm64.zip"
      sha256 "147812d2c2e2961b26e21fa743cc3c8154b72e8005618568bc86f2700f467e98"

      def install
        bin.install "policy"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/opcr-io/policy/releases/download/v0.2.7/policy0.2.7_darwin_x86_64.zip"
      sha256 "16e77dc8ae3e9126a3a6220b9f2eede0bc6f9bcd8991d98697dc36eaced9f5c7"

      def install
        bin.install "policy"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/opcr-io/policy/releases/download/v0.2.7/policy0.2.7_linux_arm64.zip"
      sha256 "3181341233ebcf12faf7bf0c8c3b0fbcfe2d720ae74339e4570a7bd120f3dd25"

      def install
        bin.install "policy"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/opcr-io/policy/releases/download/v0.2.7/policy0.2.7_linux_x86_64.zip"
      sha256 "f74ab59bdd178992602f3ad3aa36a7b947e157f432b1a68463d133be7f8dd816"

      def install
        bin.install "policy"
      end
    end
  end

  test do
    system "#{bin}/policy version"
  end
end
