# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Policy < Formula
  desc "policy CLI for building and managing authorization policies"
  homepage "https://aserto.com/"
  version "0.1.26"
  license "Apache License Version 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/opcr-io/policy/releases/download/v0.1.26/policy0.1.26_darwin_arm64.zip"
      sha256 "24db1e20b38d4f09ac9cdbced73d93e23c82521fcd3bb926ba4e80089b7e0f59"

      def install
        bin.install "policy"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/opcr-io/policy/releases/download/v0.1.26/policy0.1.26_darwin_x86_64.zip"
      sha256 "0a4e086943d28b1c52733bcaae611fcf5ed67e8cb15ad65015969a3e5e927203"

      def install
        bin.install "policy"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/opcr-io/policy/releases/download/v0.1.26/policy0.1.26_linux_x86_64.zip"
      sha256 "3292d6fc087301fe0aae887db09927bb9cb6d2d7d07fdb489943335e129e8fdf"

      def install
        bin.install "policy"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/opcr-io/policy/releases/download/v0.1.26/policy0.1.26_linux_arm64.zip"
      sha256 "aae9dd3c976df924e80fabee9e440f4ac3d1927d8628df2e5bf1e6fcd1186ff3"

      def install
        bin.install "policy"
      end
    end
  end

  test do
    system "#{bin}/policy version"
  end
end
